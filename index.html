<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // let xhr = new XMLHttpRequest();
        // xhr.open("GET", URL);
        // xhr.onload = function() {
        //     if (xhr.status >= 200 && xhr.status < 300) {

        //         let response = xhr.response;
        //         let data = JSON.parse(response);
        //         console.log(data);
        //     } else {
        //         console.log("error");

        //     }

        // }
        // xhr.onerror = () => {
        //     console.log("internet connection lost");

        // }
        // xhr.send();

        // function request(method, url) {
        //     return new Promise((resolve, reject) => {
        //         let xhr = new XMLHttpRequest();
        //         xhr.open(method, url);
        //         xhr.onload = function() {

        //             if (xhr.status >= 200 && xhr.status < 300) {
        //                 resolve(xhr.response);
        //             } else {
        //                 reject(new Error("error"));
        //             }
        //         }

        //         xhr.onerror = function() {
        //             reject(new Error("something went wrong"));
        //         }
        //         xhr.send();
        // }).then(data => {
        //     let id = data[10].id;
        //     return id;
        // }).then(id => {
        //     let url = `${URL}/${id}`;
        //     return request("GET", url)

        // }).then((data) => {
        //     let response = JSON.parse(data);
        //     return response
        // }).then(data => console.log(data)).catch((error) => console.log(error))   //     })
        // }
        // request("GET", URL).then((response) => {
        //     let data = JSON.parse(response); //parse ids used to convert string to json object
        //     // console.log(data);
        //     return data



        let URL = "https://jsonplaceholder.typicode.com/posts";

        fetch(URL).then(response => {
            if (response.ok) {
                console.log("inside response");

                return response.json();
            } else {
                throw new Error("something went wrong");
            }

        }).then(data => console.log(data)).catch(error => {
            console.log("inside catch");
            console.log(error);
        });
        async function request() {
            let response = await fetch(URL);
            console.log(response);

            if (response.status == 200) {
                let data = await response.json();
                return data

            } else {
                throw new Error("somthing went wrong");
            }

        }

        let request = async() => {
            let response = await fetch(URL);
            if (!response.ok) {
                throw new Error("something went wrong");
            }
            let data = await response.json();
            return data

        }
        request().then(data => console.log(data)).catch((error) => console.log(error))
    </script>
</body>

</html>
